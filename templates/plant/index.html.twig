{% extends 'base.html.twig' %}

{% block title %}
  Plant index
{% endblock %}

{% block body %}
  <div class="container m-auto">
    <table class="table table-hover" style>
      <thead>
        <tr>
          <th>Name</th>
          <th>Days till next watering (min-max)</th>
          <th>Water volume (ml)</th>
          <th>Last watering date</th>
          <th>Description</th>
          <th>Fertilizers</th>
          <th>Height (cm)</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for plant in plants %}
          <tr style="background: {{ plant.getMaxDaysTillNextWatering == 0 ? 'red' : plant.getMaxDaysTillNextWatering <= 2 ? 'orange' : 'green' }};">
            <td style="background-color: rgba(255, 255, 255, 0.5)">{{ plant.name }}</td>
            <td style="background-color: rgba(255, 255, 255, 0.5)">{{ plant.getNextWatering }}</td>
            <td style="background-color: rgba(255, 255, 255, 0.5)">{{ plant.getVolumeOfWaterInML }}</td>
            <td style="background-color: rgba(255, 255, 255, 0.5)">{{ plant.lastWateringDate|date('d.m.Y') }}</td>
            <td style="background-color: rgba(255, 255, 255, 0.5)">{{ plant.description }}</td>
            <td style="background-color: rgba(255, 255, 255, 0.5)">{{ plant.fertilizers|join(', ') }}</td>
            <td style="background-color: rgba(255, 255, 255, 0.5)">{{ plant.height }}</td>
            <td style="background-color: rgba(255, 255, 255, 0.5)">
              <a href="{{ path('app_plant_show', { id: plant.id }) }}" class="btn btn-primary btn-sm">show</a>
              <a href="{{ path('app_plant_edit', { id: plant.id }) }}" class="btn btn-primary btn-sm">edit</a>
            </td>
          </tr>
        {% else %}
          <tr>
            <td colspan="7">no records found</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <a href="{{ path('app_plant_new') }}" class="btn btn-primary ms-4">Create new</a>
{% endblock %}
