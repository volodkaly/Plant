{% extends 'base.html.twig' %}

{% block title %}
  Plant index
{% endblock %}

{% block body %}
  <div class="container m-auto">
    <table class="table">
      <thead>
        <tr>
          <th>Id</th>
          <th>Name</th>
          <th>Max days till next watering</th>
          <th>Days till next watering</th>
          <th>Water volume</th>
          <th>Last watering date</th>
          <th>Description</th>
          <th>Min watering frequency</th>
          <th>Max watering frequency</th>
          <th>Fertilizers</th>
          <th>Height (cm)</th>
          <th>Created at</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for plant in plants %}
          <tr>
            <td>{{ plant.id }}</td>
            <td>{{ plant.name }}</td>
            <td style="background: {{ plant.getMaxDaysTillNextWatering == 0 ? 'red' : plant.getMaxDaysTillNextWatering <= 2 ? 'orange' : 'green' }};">{{ plant.getMaxDaysTillNextWatering }}</td>
            <td>{{ plant.getNextWatering }}</td>
            <td>{{ plant.getVolumeOfWaterInML }}</td>
            <td>{{ plant.lastWateringDate|date('d.m.Y') }}</td>
            <td>{{ plant.description }}</td>
            <td>{{ plant.minNumberOfDaysToWater }}</td>
            <td>{{ plant.maxNumberOfDaysToWater }}</td>
            <td>{{ plant.fertilizers|join(', ') }}</td>
            <td>{{ plant.height }}</td>
            <td>{{ plant.createdAt|date('d.m.Y') }}</td>
            <td>
              <a href="{{ path('app_plant_show', { id: plant.id }) }}">show</a>
              <a href="{{ path('app_plant_edit', { id: plant.id }) }}">edit</a>
            </td>
          </tr>
        {% else %}
          <tr>
            <td colspan="7">no records found</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <a href="{{ path('app_plant_new') }}" class="btn btn-primary ms-4">Create new</a>
{% endblock %}
